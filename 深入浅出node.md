## 1 node简介

### node的特点

####  异步I/O

#### 事件与回调函数

#### 单线程

- 优点：不用向多线程一样在意同步问题，没有死锁，也没有线程上下文带来的性能开销
- 弱点：
  - 无法利用多核CPU
  - 错误会引起整个引用退出
  - 大量占用CPU导致无法异步调用I/O

#### 跨平台

### Node的应用场景

- I/O密集型

- 是否不擅长I/O密集型业务

- 与遗留系统和平共处

- 分布式应用

## 2 模块机制

### CommonJS规范

愿景：JavaScript能在任何地方运行。

#### CommonJS出发点

- 弥补JavaScript的以下缺陷：
  - 没有模块系统
  - 标准库较少
  - 没有标准接口
  - 缺乏包管理系统

#### CommonJS的模块规范

- 模块引用
  - `var http = require('http')`
- 模块定义
  - 使用export导出当前变量或方法，供其他文件使用
  - 其他文件通过require引用
- 模块标识
  - 模块标识其实就是传递给require()的参数

### Node的模块实现

- 在node中引入模块需要经历的三个步骤：
  - 路径分析
  - 文件定位
  - 编译执行

#### 优先从缓存加载

#### 路径分析和文件定位

- 模块标识符
  - 核心模块
    - 优先级仅次于缓存加载
    - 在Node的编译过程中编译为二进制代码，加载过程最快
  - .或..开始的相对路径文件模块
    - 加载速度慢于核心模块
    - 给Node指明了确切的文件位置，因此查找过程中可以节约大量时间
  - 以/开始的绝对路径模块
  - 非路径形式的文件模块，如自定义的connect模块

### 核心模块

#### 核心模块的编译过程

1. 转存为C/C++代码
2. 编译JavaScript的核心模块



### 模块调用栈

### 包与NPM





## 3 异步I/O



## 4 异步编程



## 5 内存控制



## 6 理解buffer



## 7 网络编程



## 8 构建web应用



## 9 玩转进程



## 10 测试



## 11 产品化





